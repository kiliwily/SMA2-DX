# Changelog

## Changes
- The highscores on the title screen start at 0.
- Removed a button combo showing a build date at the begin of the intro.
- The game saves which save data was saved last.
- The Yoshi coin in the second intro level changes in to a Peach coin once they are unlocked.
- The status of the two intro cutscenes (color palette, sprite set, Yoshi coin) now change depending on what is unlocked in the last used save data.
- Checkpoints get reset when you save & quit the game to make collecting Yoshi coins easier.
- Save and choosing back to return to the overworld can be used in Yoshi's House and Top Secert Area at any time.
- The save prompt no longer appears after beating a ghost house, the ghost ship or a level in the special world because you can save at any time by pressing start.
- Wrap around (pressing up while on the top entry in a menu puts the cursor to the bottom entry and vice versa) has been added on several menus that didn't have it before.
- Mushrooms no longer overwrite flowers and feathers in the item inventory.
- Items in the inventory no longer auto drop when the Player becomes small (to prevent the Player being unable to get the item).
- A sprite that was carried over the goal no longer gets changed into a red mushroom if the Player is already big and the inventory is not empty. It gets changed to a 1up mushroom instead.
- The Player now gets 100p for collecting a regular coin (like in virtually every other Mario game). Coins from a coin block also give 100p each.
- Several sprites (red mushroom, flower, feather, star, p-ballon, etc.) get changed to a coin when they're on screen while the Player enters the goal (inspired by SMA4/SMB3). This does not happen to items in the inventory.
- Yoshi now stays in Lakitus cloud even when the Player unmounts.
- Removed the time limit in Top Secret Area.
- Yoshi now swallows null sprites immediately, because he is not able to spit them out in SMA2 anyway.
- ?-Block with Yoshi inside and star blocks respawn after resetting the area (coin counter for star block still gets reseted after getting a 1up out of it).
- 3up moons and hidden 1ups reapear when reentering a level instead of having to reload the save file.
- The background in Forest Secret now moves slower.
- The smasher in several fortresses are behind other sprites (like in the SNES version).
- Line guided fuzzys can be killed and eaten by Yoshi like the other Fuzzys that move around blocks.
- The reward chain when enemies are on the screen while touching the goal now starts at 1000p and gets increased by 1 step at a time instead of starting at 100p and getting increased by 2 steps at a time (inspred by SMA4/SMB3).
- The reward chain when killing multiple enemies with a shell or a star or stomping on multiple enemies in a row now caps at 5ups instead of 1ups.
- The reward chain when collecting silver coins now caps at 5ups instead of 3ups.
- The reward for collecting more than 5 Yoshi coins in a level caps at 5ups instead of 1ups.
- Ups get added much faster to the counter.
- When the Player touches a checkpoint while being at least big and the inventory is empty, a mushroom gets in the inventory.
- The speed of an item that a sprite gets changed into when being carried through the goal was reduced to prevent it from going offscreen and despawning.
- Removed a delay before you can press A or the Start button in the mode select screen only present in non-japanese versions.
- Despawn the sprite in yoshis mouth when yoshi despawns.
- Made the lightswitch solid for and hitable with sprites.
- Lemmy/Wendy no longer give points when stomping on them, because no other boss does that.
- Made the amount of points the Player gets when crushing two sprites together depending on how many of the sprites die.
- Animated the berries in the "Welcome to dinosaurland" and the Yoshi's house credits scene (Credits: Mister Man).
- Gave the backgrounds in the enemy roll credits their own color instead of all using the same (Credits: Mister Man).
- Swapped the dark rooms in Front and Back door in Bowser's castle (Credits: Mister Man).
- Restored Bill Blaster's unused tile (Credits: Mister Man).
- Player and Yoshi fireballs no longer despawn immediately when shooting them while being slightly offscreen (inspired by SMA4/SMB3).
- Removed the unnecessary space between the coin symbol, the x and the coin number in the hud.
- Made the life counter in the hud rightaligned like all the other counters in the hud.
- Made the turnblocks of the 3 tile wide flying turnblock platform unpassable from below like all the other turnblocks in the game.
- Made the directional coin block reset the P-Switch/Directional coin active music when hit while the music is already playing, similar to how a P-Switch does it.
- A sound effect now playes right before the directional coin timer runs out, similar to how it happens right before the P-Switch timer runs out.
- The wings of the 2 and 3 tile wide flying turnblock platform now use their blue palette instead of the grey turnblock palette (They already use that palette in the enemy roll credits).
- Changed the position of the wings of the 2 and 3 tile wide flying turnblock platform to be more in line with how they are positioned on other blocks and sprites.
- Reznor now faces the Player when the Battle starts instead of looking away from them.
- Line-guided platforms are now horizontally centerd on the line.
- Made the growing/shrinking pipe sprite look more like the normal pipe.
- Removed the white line in the grass tiles in yoshi's house to make them look like the grass tiles in other levels.

## Bug Fixes
- Fixed Wendy's castle has the wrong background color at the begin of the intro.
- Fixed a bug, that causes the smoke that comes out of yoshis house during the beginning of the intro become garbled when pressing A or Start to skip the intro.
- Fixed a tiling error in the intro level.
- Fixed a bug that causes the choose Single Player/Multiplayer screen being garbled if pressing a button while the intro level fades out after Luigi flew over the intro level.
- Fixed Yoshis bongos play in bonus room music even when Yoshi is not present.
- Fixed an oversight that causes Iggy to use Larry's hair during his bossfight.
- Fixed a bug that causes the Player to glitch into the moving walls during Roy's boss fight.
- Fixed Wendy's bow when she looks left/right during her bossfight.
- Added a missing . in the german message of Wendy's Fortress getting destroyed cutscene.
- Fixed an exploit that makes several bosses and chucks much easier to defeat, because the counter for hitting them with fire balls and stomping on them is the same.
- Fixed a part of diggin' Chuck's shoulder was coverd by his head while digging.
- Several enemies are now invulnerable to cape gliding or disapear with smoke to prevent them from showing glitched death animations.
- Fixed an oversight that caused whistlin' Chucks to spawn glitched super koopas in Forest of Illusion 2.
- Fixed silver coins (and directional coin (only hat it because it used the wrong palette)) having ugly purple dots.
- Fixed the animation of the checkpoint post.
- Fixed inconsistencies in sprite of P-Switch and Trampolin.
- Fixed the palette of disco Koopa shell to prevent it from looking weird after the sprite change after obtaining all 96 exits.
- Fixed top of directional coin being mirrored when P-Switch is active.
- Made top of directional coin solid when P-Switch is active to prevent a bug when it touches Mario/Luigi.
- Fixed a bug that causes several sprites and the Player's fireballs to not sink in underground lava.
- Fixed blue Yoshi's overworld sprite has green dots.
- Fixed yellow Yoshi's overworld sprites shoe color is overwritten by Mario/Luigi palette.
- Fixed several bugs that occur if select and A, Start or a directional button was pressed at the same frame in the overworld.
- Fixed an oversight that causes the life counter to go over 999 on the overworld.
- Fixed an oversight that causes only Marios name being highlighted on the level map if he an Luigi got the same number of exits after all 96 exits were found.
- Blue Switchpalace no longer spawns on a path tile in Forest of Illusion.
- Fixed an oversight that causes star road teleporter to spawn despite being inaccesible.
- Fixed a bug that prevents Star Road level from being shown at the level list despite being accesible.
- Fixed a bug that makes W7 in the level lit blinking after defeating Bowser, no matter what else was done in world 7.
- Fixed an oversight that prevents the Player to exit Side Entrance and return to the overworld via start + back after Bowser was defeated (Vanilla game only activates this for Main Entrance no matter which entrance was used to defeat Bowser) .
- Fixed a bug that causes the Player to do weird things when pressing up right before the credits start.
- Fixed a bug that causes the game to load Peach coin graphics into ram during the credits and slightly garbling the cloud background after defeating Bowser with Peach coins unlocked.
- Fixed the color of the tongues of the Yoshis in the credits cutscene at Yoshi's House.
- Fixed an oversight that causes the SMA2 exclusive cutscene after collecting all Yoshi coins to overwrite the castle gets destroyed cutscene.
- Fixed an oversight that causes the game over message to overwrite the time up message.
- Fixed an oversight that causes the Bravo Mario/Luigi message when collection >10ups in a row from overwritng a normal reward pop up in some cases.
- Fixed a bug that causes a time up message being shown when the Player dies in a level without time limit.
- Fixed a bug that causes Mario to use Luigi's voice or vice versa when saying Bravo after collecting 5 Yoshi coins in a level.
- Fixed a bug that causes the Player to be immune to unkillable sprites when riding a yoshi.
- Fixed a bug that causes the Player to loose Yoshi when touching several sprites while having star immunity.
- Fixed a bug that causes the key in Star Road 3 to change into a glitched sprite when it is in Yoshis mouth while activating to many !-Blocks at once.
- Fixed several bugs that can causes multiple Yoshi eggs spawning from the same ?-Block.
- Fixed a bug that causes a glitched Yoshi to spawn because another sprite occupied Yoshis sprite slot before Yoshi is fully despawned.
- Fixed a bug that causes the Player to get the wrong amount of points when eating a coin with Yoshi that was dropped from a chuck after defeating him with fireballs.
- Fixed a bug that allows the Player to swim or fly under the ground below solid blocks.
- Fixed a bug that causes weird behaviour when riding on floating skulls and touching more than on skull at once.
- Fixed an oversight that made several sprites ignoring if the Player is ducking.
- Fixed several bugs when carrying an item through a pipe.
- Fixed several bugs that allowed the Player to glide without a cape, while riding a Yoshi, while climbing and while holding an item.
- Fixed a bug that allows the Player to hold an item while climbing.
- Fixed a bug that causes the Player to survive a time up when Yoshi is eating a power-up while the time reaches 0.
- Fixed a bug that makes the splitters of a turn block using the wrong palette when being destroyed by a chuck.
- Fixed a bug that causes the Player to activate a secret exit with a key after dying through time up while yoshi has the key in his mouth.
- Fixed a bug that causes Yoshi to uses his go through a pipe animation even if he doesn't go through a pipe.
- Fixed a bug that prevented the music from playing faster with <100 time remaining, when star music is playing while the timer hits 100.
- Fixed a pixel error in the ?-Block spin animation.
- Fixed a bug that allowed the Player to use the cape spin attack while riding a yoshi.
- Fixed a bug that causes kamek's magic to change parts of the ceiling into sprites.
- Fixed an oversight that causes sprites that chase/aim at the Player chase/aim at a point above the Player.
- Fixed a bug that causes the midpoint to get always activated when dying after the level ended.
- Fixed a bug that causes Yoshi to move his head like he is running when he sinks in lava after running away.
- Fixed a bug that causes buzzy beetle to immediately despawn when touching lava instead of sinking.
- Fixed a bug that causes chucks to destroy blocks which they are not supposed to destroy, spawn block splitter even if they didn't destroy a block or spawn block splitter with the wrong color.
- Fixed a bug that causes the game to softlock if collecting a feather offscreen during autoscroll.
- Fixed a bug that causes thwomps to always fall if they are vertically offscreen.
- Fixed a bug that causes sprites to loose their interacion with the Player if to big parts of their sprites are horizontally offscreen.
- Fixed some block collision function didn't handle 16 bit coordinates properly.
- Fixed the SMW orchesta hit sample being off-key (Credits: Mister Man).
- Fixed the lead channel in the "Bowser Battle Phase 1" music track starting too early (Credits: Mister Man).
- Fixed a tile above Vanilla Dome's entrance being mirrored incorrectly in the world map (Credits: Mister Man).
- Fixed the bottom part of one of Yoshi's sprites facing left in the world map always using red Yoshi's palette (Credits: Mister Man).
- Fixed one of Yoshi's idle inside water sprites is not mirrored (Credits: Mister Man).
- Fixed Forest of Illusion 2's background being positioned incorrectly after a checkpoint (Credits: Mister Man).
- Fixed the smoke for the chainsaws and rope machines spawning in an incorrect Y position (Credits: Mister Man).
- Fixed kamek allocating an incorrect number of OAM slots (Credits: Mister Man).
- Fixed kamek's wand having the wrong priority (Credits: Mister Man).
- Fixed a bug that causes the Player floating when sliding off of Larry's/Iggy's tilting platform (Credits: Mister Man).
- Fixed the palette of spat out Volcano Lotus/Lakitu in a pipe getting partially overwritten (Credits: Mister Man).
- Fixed Lakitu / Fishin' Lakitu's head being incorrect positioned (Credits: Mister Man).
- Fixed first room in Donut ghosthouse uses the wrong background color.
- Fixed Reznor platform, Morton, Roy, Ludwig and Lemmy's/Wendy's pipe use the wrong palette in the enemy roll credits.
- Fixed a bug that causes some solid sprites to behave strangley when touching them from below because their status has been changed erroneously.
- Fixed a bug that causes the Player to climb on thin air when getting pushed away by a solid block when climbing on a rope mechanism.
- Fixed a bug that causes Player and Yoshi fireballs to not interact with sprites in slot 0Ah and 0Bh.
- Fixed a bug that cuases extended sprites to sometimes recognize a collision when being vertically offscreen.
- Fixed an oversight that caused the flying ?-Block that always flies to the left to hurt the Player much earlier than other solid sprites when squashing the Player in the wall.
- Fixed a bug that caused the Player to clip through mega moles when they have an upwards speed.
- Fixed a bug that caused dino rhinos to get stuck when jumping in a corner.
- Fixed a bug that caused mushrooms in bubbles to not give any points if they were eaten by yoshi before the bubble bursts.
- Fixed a bug that caused the Layer 2 wall in Ludwig's castle to trigger a screen shake every frame it touches the ground and restored the sound effect when it hits the ground.
- Fixed secret exit room in Donut ghosthouse uses the wrong sprite palette.
- Fixed directional coin uses the block palette even if blue P-Switch isn't active.
- Fixed directional coin is drawn 1 pixel too high when P-Switch isn't active.
- Fixed a bug that caused the starman timer, the p-ballon timer and the yoshi swallow timer to sometimes get decremented even if the game is frozen and even faster than normal.
- Fixed a bug that caused the Player to cycle through colors during the dying animation when dying while having a star (e.g. fall in lava or in a pit).
- Fixed a bug that caused the Bravo Mario/Luigi message sometimes appear after the Player died, even though it's not supposed to.
- Fixed a bug that caused the Bravo Mario/Luigi message to show a glitched number if the Player gets exactly 1000 lifes in a row.
- Fixed a bug that caused the game in certain cases to check the button input while the game freeze flag is set.
- Fixed the Player's and Yoshi's positions on top of several solid sprites.
- Fixed several sprites were not properly alligned on the ground or on the grid by one pixel.
- Fixed the position and draw priority of several sprites in the enemy roll credits.
- Fixed a bug that caused the Bravo Mario/Luigi message to not get displayed when killing enough enemies by sliding.
- Fixed the skull platform doesn't take into account, that it gets slightly pushed downwards when the Player stands on it when putting the Player and Yoshi on top of it.
- Fixed a bug that caused Yoshi to run in the air for a few frames when he's running on a line-guided checkered platform before he falls downwards.
- Fixed a bug that caused the Player to slide up slopes when riding a Yoshi.
- Fixed a bug that caused skull rafts to have small gaps between the skulls when moving depending on which skull the Player touched first.
- Fixed a bug that caused the bottom part of the screen to be garbled during the circle animation after crossing the goal when the Player's position is too high on screen.